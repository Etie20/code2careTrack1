<div class="flex items-center gap-2 relative">
  <lucide-angular
    [img]="globeIcon"
    [size]="16"
    color="#4a5565"
  ></lucide-angular>

  <div class="relative">
    <button
      (click)="toggleDropdown()"
      class="hover:cursor-pointer w-32 px-3 py-2 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-md flex items-center justify-between hover:bg-white/90 transition-colors">
      <span class="flex items-center gap-2">
        <span>{{ selectedLanguage.flag }}</span>
        <span class="text-sm">{{ selectedLanguage.name }}</span>
      </span>
      <svg class="w-4 h-4 transition-transform" [class.rotate-180]="isDropdownOpen" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </button>

    @if (isDropdownOpen) {
      <div
        class="absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10">
        @for (lang of languages; track $index ){
          <button
            (click)="selectLanguage(lang)"
            class="w-full px-3 py-2 text-left hover:bg-gray-50 flex items-center gap-2 transition-colors"
          >
            <span>{{ lang.flag }}</span>
            <span class="text-sm">{{ lang.name }}</span>
          </button>
        }

      </div>
    }

  </div>
</div>
